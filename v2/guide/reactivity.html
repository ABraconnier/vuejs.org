
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Réactivité dans le détail — Vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Le Framework JavaScript Évolutif">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/guide/reactivity.html">
        <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/guide/reactivity.html">

        <meta property="og:type" content="article">
        <meta property="og:title" content="Réactivité dans le détail — Vue.js">
        <meta property="og:description" content="Vue.js - Le Framework JavaScript Évolutif">
        <meta property="og:image" content="https://vuejs.org//images/logo.png">

        <meta name="twitter:card" content="summary">
        <meta name="twitter:title" content="Réactivité dans le détail — Vue.js">
        <meta name="twitter:description" content="Vue.js - Le Framework JavaScript Évolutif">
        <meta name="twitter:image" content="https://vuejs.org/images/logo.png">

        <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
        <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
        <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
        <link rel="icon" href="/images/logo.png" type="image/png">

        <meta name="msapplication-TileColor" content="#4fc08d">
        <meta name="theme-color" content="#4fc08d">

        <meta name="msapplication-config" content="browserconfig.xml">
        <link rel="manifest" href="/manifest.json">

        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>

        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

        <!-- main page styles -->
        <link rel="stylesheet" href="/css/page.css">

        <!-- this needs to be loaded before guide's inline scripts -->
        <script src="/js/vue.js"></script>
        <script>window.PAGE_TYPE = "guide"</script>

        <!-- ga -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-46852172-1', 'vuejs.org');
          ga('send', 'pageview');
        </script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guide</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemples</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Écosystème</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Aide</h4></li>
    <li><ul>
      <li style="text-align: left;padding: 0 24px 0 20px"><a style="display: inline-block;padding: 0;" href="https://forum.vuejs.org/c/french" class="nav-link" target="_blank">Forum</a> | <a style="display: inline-block;padding: 0;" href="https://forum.vuejs.org/" class="nav-link" target="_blank">En</a></li>
      <li style="text-align: left;padding: 0 24px 0 20px"><a style="display: inline-block;padding: 0;" href="https://gitter.im/vuejs-fr/vue" class="nav-link" target="_blank">Chat</a> | <a style="display: inline-block;padding: 0;" href="https://chat.vuejs.org/" class="nav-link" target="_blank">En</a></li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Infos</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Offres d'emploi</a></li>
    </ul></li>
    <li><h4>Plugins officiels</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Liste de ressources</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Dépôt officiel</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Curation Vue</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>



<li class="nav-dropdown-container language">
  <a class="nav-link">Traductions</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://cn.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">Русский</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Boutique</a>
</li>

  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <div class="sidebar-inner">
        <ul class="main-menu">
            <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/v2/guide/" class="nav-link current">Guide</a></li>
<li><a href="/v2/api/" class="nav-link">API</a></li>
<li><a href="/v2/examples/" class="nav-link">Exemples</a></li>
<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">Écosystème</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>Aide</h4></li>
    <li><ul>
      <li style="text-align: left;padding: 0 24px 0 20px"><a style="display: inline-block;padding: 0;" href="https://forum.vuejs.org/c/french" class="nav-link" target="_blank">Forum</a> | <a style="display: inline-block;padding: 0;" href="https://forum.vuejs.org/" class="nav-link" target="_blank">En</a></li>
      <li style="text-align: left;padding: 0 24px 0 20px"><a style="display: inline-block;padding: 0;" href="https://gitter.im/vuejs-fr/vue" class="nav-link" target="_blank">Chat</a> | <a style="display: inline-block;padding: 0;" href="https://chat.vuejs.org/" class="nav-link" target="_blank">En</a></li>
      <li><a href="https://github.com/vuejs-templates" class="nav-link" target="_blank">Templates</a></li>
    </ul></li>
    <li><h4>Infos</h4></li>
    <li><ul>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank">Blog</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank">Offres d'emploi</a></li>
    </ul></li>
    <li><h4>Plugins officiels</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank">Vue Router</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank">Vuex</a></li>
    </ul></li>
    <li><h4>Liste de ressources</h4></li>
    <li><ul>
      <li><a href="https://github.com/vuejs" class="nav-link" target="_blank">Dépôt officiel</a></li>
      <li><a href="https://curated.vuejs.org/" class="nav-link" target="_blank">Curation Vue</a></li>
      <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank">Awesome Vue</a></li>
    </ul></li>
  </ul>
</li>



<li class="nav-dropdown-container language">
  <a class="nav-link">Traductions</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://cn.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">日本語</a></li>
    <li><a href="https://kr.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">한국어</a></li>
    <li><a href="https://vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">English</a></li>
    <li><a href="https://br.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">Português</a></li>
    <li><a href="https://ru.vuejs.org/v2/guide/reactivity.html" class="nav-link" target="_blank">Русский</a></li>
  </ul>
</li>

<li>
  <a href="https://vue.threadless.com" target="_blank" class="nav-link shop">Boutique</a>
</li>

        </ul>
        <div class="list">
            <div class="main-sponsor">
                <span>Sponsor de platine</span><br>
                <a href="https://stdlib.com" target="_blank" class="logo">
                    <img src="/images/stdlib.png">
                </a>
            </div>
            <a class="become-backer" href="/support-vuejs">
                Apporter son soutien
            </a>
            <h2>
                Guide
                
                    <select class="version-select">
                        <option value="SELF" selected>2.x</option>
                        <option value="v1">1.0</option>
                        <option value="012">0.12</option>
                        <option value="011">0.11</option>
                    </select>
                
            </h2>
            <ul class="menu-root">
    
        
        
            
                <li><h3>Essentiel</h3></li>
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/installation.html" class="sidebar-link">Installation</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/index.html" class="sidebar-link">Introduction</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/instance.html" class="sidebar-link">L'instance de Vue</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/syntax.html" class="sidebar-link">Syntaxe de template</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/computed.html" class="sidebar-link">Propriétés calculées et observateurs</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/class-and-style.html" class="sidebar-link">Liaisons de classes et de styles</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/conditional.html" class="sidebar-link">Rendu conditionnel</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/list.html" class="sidebar-link">Rendu de liste</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/events.html" class="sidebar-link">Gestion des évènements</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/forms.html" class="sidebar-link">Liaisons sur les champs de formulaire</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/components.html" class="sidebar-link">Composants</a>
        </li>
    
        
        
            
            
                <li><h3>Avancé</h3></li>
            
            
            
        
        
        <li>
            <a href="/v2/guide/reactivity.html" class="sidebar-link current">Réactivité dans le détail</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/transitions.html" class="sidebar-link">Effets de transition</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/transitioning-state.html" class="sidebar-link">État de transition</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/render-function.html" class="sidebar-link">Fonctions de rendu</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/custom-directive.html" class="sidebar-link">Directives personnalisées</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/mixins.html" class="sidebar-link">Mixins</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/plugins.html" class="sidebar-link">Plugins</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/single-file-components.html" class="sidebar-link">Composants monofichiers</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/deployment.html" class="sidebar-link">Astuces de déploiement en production</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/routing.html" class="sidebar-link">Routage</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/state-management.html" class="sidebar-link">Gestion de l'état</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/unit-testing.html" class="sidebar-link">Tests unitaires</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/ssr.html" class="sidebar-link">Rendu côté serveur</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/typescript.html" class="sidebar-link">Support de TypeScript</a>
        </li>
    
        
        
            
            
            
                <li><h3>Migration</h3></li>
            
            
        
        
        <li>
            <a href="/v2/guide/migration.html" class="sidebar-link">Migration from Vue 1.x (En)</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/migration-vue-router.html" class="sidebar-link">Migration from Vue Router 0.7.x (En)</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/migration-vuex.html" class="sidebar-link">Migration from Vuex 0.6.x to 1.0 (En)</a>
        </li>
    
        
        
            
            
            
            
                <li><h3>Meta</h3></li>
            
        
        
        <li>
            <a href="/v2/guide/comparison.html" class="sidebar-link">Comparaison avec les autres frameworks</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/join.html" class="sidebar-link">Rejoignez la communauté Vue.js !</a>
        </li>
    
        
        
            
            
            
            
        
        
        <li>
            <a href="/v2/guide/team.html" class="sidebar-link">Rencontrer l'équipe</a>
        </li>
    
    
</ul>

        </div>
    </div>
</div>


<div class="content guide with-sidebar reactivity-guide">
    
      
        <div id="ad">
  <script>
    (function () {
      var s = document.createElement('script')
      s.setAttribute('async', '')
      s.src = '//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs'
      s.id = '_carbonads_js'
      document.getElementById('ad').appendChild(s)
    })()
  </script>
</div>

      
    
    
      <h1>Réactivité dans le détail</h1>
    
    <p>Nous avons couvert la plupart des principes fondamentaux, maintenant il est temps de plonger dans les méandres de Vue ! L’une des fonctionnalités les plus emblématiques de Vue est le système de réactivité non obstrusif. Les modèles sont simplement des objets JavaScript. Lorsque vous les modifiez, la vue se met à jour. Cela rend la gestion d’état très simple et intuitive, mais il est également important de comprendre comment cela fonctionne pour éviter quelques erreurs classiques. Dans cette section, nous allons nous pencher sur certains détails de bas niveau du système de réactivité de Vue.</p>
<h2 id="Comment-les-modifications-sont-tracees"><a href="#Comment-les-modifications-sont-tracees" class="headerlink" title="Comment les modifications sont tracées ?"></a>Comment les modifications sont tracées ?</h2><p>Lorsque vous passez un simple objet JavaScript à une instance de Vue via son option <code>data</code>, Vue parcourra toutes ses propriétés et les convertira en accesseurs/mutateurs (getters/setters) en utilisant <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Objets_globaux/Object/defineProperty" target="_blank" rel="external">Object.defineProperty</a>. Il s’agit d’une fonctionnalité ES5 uniquement et qui ne peut pas être émulée, c’est pourquoi Vue ne prend pas en charge IE8 et les versions antérieures.</p>
<p>Les accesseurs/mutateurs sont invisibles pour l’utilisateur, mais sous le capot, ils permettent à Vue d’effectuer le suivi des dépendances et la notification de changement quand les propriétés sont accédées ou modifiées. Une des limitations est que les consoles des navigateurs formatent les accesseurs/mutateurs différemment lorsque les objets de données convertis sont logués, vous pouvez donc installer <a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">vue-devtools</a> pour avoir une interface plus sympathique lors de l’inspection.</p>
<p>Chaque instance de composant a une instance d’<strong>observateur</strong> correspondante, qui enregistre comme dépendances toutes les propriétés « touchées » pendant le rendu du composant. Plus tard, lorsque le mutateur d’une dépendance est déclenché, il en avertit l’observateur, ce qui provoque à son tour un nouveau rendu du composant.</p>
<p><img src="/images/data.png" alt="Reactivity Cycle"></p>
<h2 id="Limitations-de-la-detection-de-changement"><a href="#Limitations-de-la-detection-de-changement" class="headerlink" title="Limitations de la détection de changement"></a>Limitations de la détection de changement</h2><p>En raison des limites du JavaScript moderne (et de l’abandon de <code>Object.observe</code>), Vue <strong>ne peut pas détecter l’ajout et la suppression de propriété</strong>. Étant donné que Vue effectue le processus de conversion en accesseur/mutateur lors de l’initialisation de l’instance, une propriété doit être présente dans l’objet <code>data</code> afin que Vue puisse la convertir et la rendre réactive. Par exemple :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">a</span>: <span class="number">1</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">// `vm.a` est maintenant réactive</span></div><div class="line"></div><div class="line">vm.b = <span class="number">2</span></div><div class="line"><span class="comment">// `vm.b` N'est PAS réactive</span></div></pre></td></tr></table></figure>
<p>Vue n’autorise pas l’ajout dynamique de nouvelles propriétés réactives au niveau de la racine dans une instance déjà créée. Toutefois, il est possible d’ajouter des propriétés réactives à un objet imbriqué à l’aide de la méthode <code>Vue.set(object, key, value)</code> :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.set(vm.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<p>Vous pouvez aussi utiliser la méthode d’instance <code>vm.$set</code>, qui est juste un alias de la méthode globale <code>Vue.set</code> :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">this</span>.$set(<span class="keyword">this</span>.someObject, <span class="string">'b'</span>, <span class="number">2</span>)</div></pre></td></tr></table></figure>
<p>Parfois vous voudrez affecter un certain nombre de propriétés à un objet existant, par exemple à l’aide de <code>Object.assign()</code> ou <code>_.extend()</code>. Pourtant, les nouvelles propriétés ajoutées à l’objet ne déclencheront pas de changements. Dans de tels cas, créez un nouvel objet avec à la fois les propriétés de l’objet d’origine et celles de l’objet à intégrer :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Au lieu de `Object.assign(this.someObject, &#123; a: 1, b: 2 &#125;)`</span></div><div class="line"><span class="keyword">this</span>.someObject = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="keyword">this</span>.someObject, &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;)</div></pre></td></tr></table></figure>
<p>Il y a également quelques limitations liées aux tableaux, qui ont été expliquées précédemment dans la <a href="list.html#Limitations">section du rendu de liste</a>.</p>
<h2 id="Declaration-de-proprietes-reactives"><a href="#Declaration-de-proprietes-reactives" class="headerlink" title="Déclaration de propriétés réactives"></a>Déclaration de propriétés réactives</h2><p>Étant donné que Vue ne permet pas d’ajouter dynamiquement des propriétés réactives au niveau de la racine, vous devez initialiser les instances de Vue en déclarant dès le départ toutes les propriétés des données réactives au niveau de la racine, même avec juste une valeur vide :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="comment">// déclare message avec une valeur vide</span></div><div class="line">    message: <span class="string">''</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;div&gt;&#123;&#123; message &#125;&#125;&lt;/div&gt;'</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// définit plus tard `message`</span></div><div class="line">vm.message = <span class="string">'Bonjour !'</span></div></pre></td></tr></table></figure>
<p>Si vous ne déclarez pas <code>message</code> dans l’option data, Vue vous avertira que la fonction de rendu tente d’accéder à une propriété qui n’existe pas.</p>
<p>Il y a des raisons techniques derrière cette restriction (ça élimine toute une série de cas particuliers dans le système de suivi, et permet également aux instances de Vue de mieux s’intégrer avec les systèmes de vérification de type). Mais il y a aussi une considération importante en termes de maintenance de code : l’objet <code>data</code> est comme le schéma de l’état de votre composant. Déclarer toutes les propriétés réactives dès le départ rend le code du composant plus facile à comprendre lorsqu’il sera reparcouru plus tard ou lu par un autre développeur.</p>
<h2 id="File-d’attente-de-mise-a-jour-asynchrone"><a href="#File-d’attente-de-mise-a-jour-asynchrone" class="headerlink" title="File d’attente de mise à jour asynchrone"></a>File d’attente de mise à jour asynchrone</h2><p>Au cas où vous ne l’auriez pas encore remarqué, Vue effectue les mises à jour du DOM de façon <strong>asynchrone</strong>. Chaque fois qu’un changement de données est observé, cela ouvrira une file d’attente et mettra en mémoire toutes les modifications de données qui se sont produites dans la même boucle des événements. Si le même observateur est déclenché plusieurs fois, il ne sera ajouté qu’une seule fois dans la file d’attente. Cette suppression des doublons en mémoire est primordiale car elle évite des calculs et des manipulations du DOM inutiles. Puis, lors du prochain « tour » (tick) de la boucle des événements, Vue vide la file d’attente et effectue le travail (déjà dédoublonné). En interne, Vue essaie d’utiliser les fonctions natives <code>Promise.then</code> et <code>MutationObserver</code> pour la file d’attente asynchrone et se rabat sur <code>setTimeout(fn, 0)</code> si elles ne sont pas supportées.</p>
<p>Par exemple, lorsque vous définissez <code>vm.someData = &#39;nouvelle valeur&#39;</code>, le composant ne sera pas rendu de nouveau immédiatement. Il se mettra à jour au prochain « tour » (tick), lorsque la file d’attente sera vidée. La plupart du temps nous n’avons pas besoin de nous en soucier, mais cela peut être délicat lorsque vous voulez faire quelque chose qui dépend de l’état du DOM après sa mise à jour. Bien que Vue.js encourage généralement les développeurs à penser dans un mode « piloté par les données » (« data-driven ») en évitant de toucher le DOM directement, parfois il peut être nécessaire de se salir les mains. Afin d’attendre que Vue.js ait terminé la mise à jour du DOM après un changement de données, vous pouvez utiliser <code>Vue.nextTick (callback)</code> immédiatement après la modification des données. La fonction de retour sera appelée après que le DOM ait été mis à jour. Par exemple :</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'123'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">vm.message = <span class="string">'nouveau message'</span> <span class="comment">// change les données</span></div><div class="line">vm.$el.textContent === <span class="string">'nouveau message'</span> <span class="comment">// false</span></div><div class="line">Vue.nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  vm.$el.textContent === <span class="string">'nouveau message'</span> <span class="comment">// true</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>Il y a aussi la méthode d’instance <code>vm.$nextTick()</code>, qui est particulièrement pratique à l’intérieur des composants, car elle n’a pas besoin de la variable globale de <code>Vue</code> et le contexte <code>this</code> de sa fonction de rappel sera automatiquement lié à l’instance de Vue actuelle :</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.component(<span class="string">'example'</span>, &#123;</div><div class="line">  <span class="attr">template</span>: <span class="string">'&lt;span&gt;&#123;&#123; message &#125;&#125;&lt;/span&gt;'</span>,</div><div class="line">  <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="attr">message</span>: <span class="string">'pas mis à jour'</span></div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">updateMessage</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">this</span>.message = <span class="string">'mis à jour'</span></div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el.textContent) <span class="comment">// =&gt; 'pas mis à jour'</span></div><div class="line">      <span class="keyword">this</span>.$nextTick(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.$el.textContent) <span class="comment">// =&gt; 'mis à jour'</span></div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/v2/guide/components.html">Composants</a></span>
        
        
          <span style="float:right"><a href="/v2/guide/transitions.html">Effets de transition</a> →</span>
        
      </div>
    
    <div class="footer">
      Une erreur dans cette page ? Envie de contribuer à la traduction ?
      <a href="https://github.com/vuejs-fr/vuejs.org/blob/master/src/v2/guide/reactivity.md" target="_blank">
        Éditez cette page sur Github !
      </a>
    </div>
</div>

                
            </div>
            <script src="/js/smooth-scroll.min.js"></script>
        

        <!-- main custom script for sidebars, version selects etc. -->
        <script src="/js/css.escape.js"></script>
        <script src="/js/common.js"></script>

        <!-- search -->
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/search.css">
        <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
        <script>
        [
          '#search-query-nav',
          '#search-query-sidebar',
          '#search-query-menu'
        ].forEach(function (selector) {
          if (!document.querySelector(selector)) return
          // search index defaults to v2
          var match = window.location.pathname.match(/^\/(v\d+)/)
          var version = match ? match[1] : 'v2'
          docsearch({
            appId: 'BH4D9OD16A',
            apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
            indexName: 'vuejs',
            inputSelector: selector,
            algoliaOptions: { facetFilters: ["version:" + version] }
          })
        })
        </script>

        <!-- fastclick -->
        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body)
        }, false)
        </script>
    </body>
</html>
